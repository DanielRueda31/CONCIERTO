<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concierto</title>
    <script src="aframe.min.js"></script>
   
</head>
<body>
    
    <a-scene>
      
      <!-- EXTERIORES -->

      <!-- Añadir un cielo estrellado -->
      <a-sky src="#skyTexture"></a-sky>
      <a-assets>
      <img id="skyTexture" src="imagenes/cielo.jpg">
      </a-assets>    

          <!------------------LUGAR DONDE ESTA EL CONCIERTO------------------->
   <!-- SUELO -->
   <a-plane width="30" height="30" color="#556B2F" rotation="-90 0 0" position="0 0 0"></a-plane>
   <!-- PAREDES -->
   <a-box width="30" height="6" depth="0.5" position="0 3 -15" material="color: #654321" rotation="0 0 0" shadow="cast: true"></a-box>
   <a-box width="30" height="6" depth="0.5" position="14.75 3 0" material="color: #654321" rotation="0 90 0" shadow="cast: true"></a-box>
   <a-box width="30" height="6" depth="0.5" position="-14.75 3 0" material="color: #654321" rotation="0 90 0" shadow="cast: true"></a-box>        
   <!-- techo -->
   <a-entity geometry="primitive: cylinder; radius: 15; height: 30.2; thetaLength: 180; openEnded: true;" position="0 6 -0.1" rotation="0 90 90" material="color: #D3D3D3; side: double; opacity: 0.5 transparent: true;"></a-entity>
   <a-entity geometry="primitive: cylinder; radius: 15; height: 0.5; thetaLength: 180; " position="0 6 -15" rotation="0 90 90" material="color: #D3D3D3; side: double; opacity: 0.5 transparent: true;"></a-entity>        
   <!-- enrejado -->
   <a-entity geometry="primitive: cylinder; radius: 2; height: 29; thetaLength: 30; openEnded: true;" position="0 0.1 -3.5" rotation="0 0 90" material="color: #D3D3D3;  opacity: 0.25 side: double; wireframe: true;"></a-entity>


    <!------------------ESCENARIO------------------->

  <!----------SUELOS DEL ESCENARIO ------------>

      <!--  escenario suelo  Grande   -->
  <a-box width="10" height="1" depth="5" position="0 0.5 -7" material="color: black" shadow="cast: true"></a-box>
  <a-box width="3" height="1" depth="2" position="0 0.5 -3.5" material="color: black" shadow="cast: true"></a-box>
  <!-- escenario suelo pequeño   -->
  <a-box width="10" height="0.03" depth="5" position="0 1.01 -7" color="#333333" shadow="cast: true"></a-box>
  <a-box width="3" height="0.03" depth="2" position="0 1.01 -3.5" color="#333333" shadow="cast: true"></a-box>

  <!----------PARTE SUPERIOR y TRASERA DEL ESCENARIO DEL ESCENARIO   ------------>

  <a-box width="18" height="0.80" depth="6" position="0 5 -7" material="color: #D3D3D3" shadow="cast: true"></a-box>
  <a-plane width="10" height="4" material="src: imagenes/pantalla.mp4" rotation="0 0 0" position="0 2.5 -9.5" ></a-plane>
  <a-entity position="-0.5 0.7 -4.5" text="value: #MODO DIABLO; color: red; width: 8; font: mozillavr"></a-entity>
  <a-entity position="3.5 0.7 -2.5" text="value: DUKI; color: red; width: 8; font: mozillavr" ></a-entity>
  <a-entity position="6 0.7 -4.5" text="value: A.D.A TOUR; color: red; width: 8; font: mozillavr"></a-entity>

  <!-------------- COLUMNAS LATERALES DEL ESCENARIO -------------->

  <script>
    // Define las variables para el tamaño y la separación de las columnas
    const defaultHeight = 0.5;
    const rotatedHeight = 0.65; // Altura mayor para los cilindros rotados
    const columnSpacing = 0.44;
    const cylinderHeight = 0.44;
    // Bucle para generar las columnas
    for (let i = 0; i <= 10; i++) {
    // Calcula la posición en Y de la columna
    let yPos = i * columnSpacing;         
    // Determina si la rotación debe ser positiva o negativa
    let rotation = (i % 2 === 0) ? "-45" : "45";     
    // Determina la altura del cilindro
    let height = (rotation === "45" || rotation === "-45") ? rotatedHeight : defaultHeight;     
    // Genera el HTML para la columna con la posición, rotación y altura calculados
    document.write(`<a-cylinder radius="0.02" height="${cylinderHeight}" position="-5.02 ${yPos} -4.5" material="color: #C0C0C0" shadow="cast: true"></a-cylinder>`);
    document.write(`<a-cylinder radius="0.02" height="${cylinderHeight}" position="-5.52 ${yPos} -4.5" material="color: #C0C0C0" shadow="cast: true"></a-cylinder>`);
    document.write(`<a-cylinder radius="0.02" height="${height}" position="-5.28 ${yPos + 0.25} -4.5" rotation="0 0 90" material="color: #C0C0C0" shadow="cast: true"></a-cylinder>`);
    document.write(`<a-cylinder radius="0.02" height="${height}" position="-5.25 ${yPos} -4.5" rotation="0 0 ${rotation}" material="color: #C0C0C0" shadow="cast: true"></a-cylinder>`);
    }
    </script>
          
  <script>  
  // Bucle para generar las columnas
  for (let i = 0; i <= 10; i++) {
  // Calcula la posición en Y de la columna
  let yPos = i * columnSpacing;     
  // Determina si la rotación debe ser positiva o negativa
  let rotation = (i % 2 === 0) ? "-45" : "45";        
  // Determina la altura del cilindro
  let height = (rotation === "45" || rotation === "-45") ? rotatedHeight : defaultHeight;        
  // Genera el HTML para la columna con la posición, rotación y altura calculados
  document.write(`<a-cylinder radius="0.02" height="${cylinderHeight}" position="5.02 ${yPos} -4.5" material="color: #C0C0C0" shadow="cast: true"></a-cylinder>`);
  document.write(`<a-cylinder radius="0.02" height="${cylinderHeight}" position="5.52 ${yPos} -4.5" material="color: #C0C0C0" shadow="cast: true"></a-cylinder>`);
  document.write(`<a-cylinder radius="0.02" height="${height}" position="5.28 ${yPos + 0.25} -4.5" rotation="0 0 90" material="color: #C0C0C0" shadow="cast: true"></a-cylinder>`);
  document.write(`<a-cylinder radius="0.02" height="${height}" position="5.25 ${yPos} -4.5" rotation="0 0 ${rotation}" material="color: #C0C0C0" shadow="cast: true"></a-cylinder>`);
  }
  </script>

       
  <!-------------- LUCES SUPERIORES DEL ESCENARIO  ---------------------->

  <!-- Luz ambiental -->
  <a-light type="ambient" color="#FFFFFF" intensity="0.5"></a-light>
  <a-entity id="luces" ></a-entity>
  <script>
  // Función para generar un color aleatorio
  function getRandomColor() {
  var letters = '0123456789ABCDEF';
  var color = '#';
  for (var i = 0; i < 6; i++) {
  color += letters[Math.floor(Math.random() * 16)];
  }
  return color;
  }
  // Crear esferas y luces con separación de 0.5 entre ellas
  for (var i = 1; i <= 5; i++) {
  // Crear esfera
  var sphere = document.createElement('a-sphere');
  sphere.setAttribute('radius', '0.05');
  sphere.setAttribute('position', (-5.5 + i * 2) + ' 4.25 -5');
  sphere.setAttribute('color', getRandomColor());
  document.querySelector('#luces').appendChild(sphere);
  // Crear caja detrás de la esfera
  var box = document.createElement('a-box');
  box.setAttribute('width', '0.2'); // Ancho ajustado a 0.1
  box.setAttribute('height', '0.2'); // Alto ajustado a 0.1
  box.setAttribute('depth', '0.2'); // Profundidad ajustada a 0.1
  box.setAttribute('position', (-5.5 + i * 2) + ' 4.25 -5.10'); // Ajustar la posición detrás de la esfera
  box.setAttribute('color', 'black'); // Cambiar el color según sea necesario
  document.querySelector('#luces').appendChild(box);
  // Crear luz
  var light = document.createElement('a-light');
  light.setAttribute('type', 'point');
  light.setAttribute('position', (-5.5 + i * 2) + ' 4.25 -5');
  light.setAttribute('intensity', '0.6');
  light.setAttribute('color-sync', '');
  document.querySelector('#luces').appendChild(light);
  }

  // Función para cambiar el color de las esferas y las luces generadas de forma aleatoria cada cierto tiempo
  function changeColor() {
  var spheres = document.querySelectorAll('#luces a-sphere');
  var lights = document.querySelectorAll('#luces a-light');
  spheres.forEach(function(sphere) {
  var randomColor = getRandomColor(); // Generar un color aleatorio
  sphere.setAttribute('color', randomColor); // Aplicar el color aleatorio a la esfera
  });
  lights.forEach(function(light) {
  var randomColor = getRandomColor(); // Generar un color aleatorio
  light.setAttribute('color', randomColor); // Aplicar el mismo color aleatorio a la luz
  });
  }
  // Cambiar el color de las esferas y las luces generadas cada 3 segundos
  setInterval(changeColor, 900);
  </script>
  
  <!-------------- BOCINAS  ---------------------->

  <!-------bocinas izquierdas----------->
<script>
    // Define las posiciones de las bocinas izquierdas
    const leftSpeakerPositions = [
      { x: -6.1, y: 0.5 },
      { x: -7.14, y: 0.5 },
      { x: -8.16, y: 0.5 },
      { x: -6.1, y: 2.05 },
      { x: -7.14, y: 2.05 },
      { x: -8.16, y: 2.05 }
    ];
  
    // Genera las bocinas izquierdas
    leftSpeakerPositions.forEach(pos => {
    document.write(`
    <a-box width="1" height="1.5" depth="1" position="${pos.x} ${pos.y} -4.5" material="color: black" shadow="cast: true"></a-box>
    <a-circle radius="0.1" position="${pos.x - 0.01} ${pos.y - 0.2} -3.99" material="color: #808080"></a-circle>
    <a-circle radius="0.1" position="${pos.x - 0.01} ${pos.y + 0.3} -3.99" material="color: #808080"></a-circle>
    `);
    });
  </script>
  
  <!----------BOCINAS derechas------------>
  <script>
    // Define las posiciones de las bocinas derechas
    const rightSpeakerPositions = [
      { x: 6.1, y: 0.5 },
      { x: 7.14, y: 0.5 },
      { x: 8.16, y: 0.5 },
      { x: 6.1, y: 2.05 },
      { x: 7.14, y: 2.05 },
      { x: 8.16, y: 2.05 }
    ];
  
    // Genera las bocinas derechas
    rightSpeakerPositions.forEach(pos => {
    document.write(`
    <a-box width="1" height="1.5" depth="1" position="${pos.x} ${pos.y} -4.5" material="color: black" shadow="cast: true"></a-box>
    <a-circle radius="0.1" position="${pos.x + 0.01} ${pos.y - 0.2} -3.99" material="color: #808080"></a-circle>
    <a-circle radius="0.1" position="${pos.x + 0.01} ${pos.y + 0.3} -3.99" material="color: #808080"></a-circle>
    `);
    });
  </script>
  
  <a-sound id="left-speaker" src="/musica/DUKI  Malbec.mp3" position="-6.09 0.5 -3.99" autoplay="true" volume="10"></a-sound>
  <a-sound id="right-speaker" src="/musica/DUKI  Malbec.mp3" position="6.09 0.5 -3.99" autoplay="true" volume="10"></a-sound>
  
  <script>
    // Lista de canciones
    var canciones = ["musica/DUKI  Malbec.mp3", "musica/Vuelta a la Luna Remix DUKI.mp3", "musica/YSY A FT DUKI - NO DA MAS.mp3", 
    "musica/Duki  Hello Cotto.mp3", "musica/DUKI  Rockstar.mp3", "musica/DUKI  antes de perderte OG.mp3", "musica/duki NO SON KLLE (Video Oficial).mp3"];
    var indexCancion = -1; // Índice de la canción actual
  
    // Función para cambiar a la siguiente canción
    function cambiarCancion() {
      indexCancion = (indexCancion + 1) % canciones.length; // Avanza al siguiente índice circularmente
      var nuevaCancion = canciones[indexCancion]; // Obtiene la nueva canción
      document.getElementById('left-speaker').setAttribute('src', nuevaCancion); // Cambia la canción en la bocina izquierda
      document.getElementById('right-speaker').setAttribute('src', nuevaCancion); // Cambia la canción en la bocina derecha
    }
  
    // Escucha el evento 'sound-ended' para la bocina izquierda
    document.getElementById('left-speaker').addEventListener('sound-ended', cambiarCancion);
    // Escucha el evento 'sound-ended' para la bocina derecha
    document.getElementById('right-speaker').addEventListener('sound-ended', cambiarCancion);
  
    // Llama a la función cambiarCancion al cargar la página para iniciar la reproducción
    window.onload = cambiarCancion;
  
  </script>

   <!-------------- DUKI Y DUKILOVERS  ------------------------>
  
 <!-- duki -->
 <a-entity id="dukimovil" position="0 0 -0.1">
    <!-- Cabeza -->
    <a-sphere radius="0.15" position="0 2.1 -3" rotation="0 -80 0 " material="src: imagenes/cara.jpg" shadow="cast: true"></a-sphere>
    <!-- Cuerpo -->
    <a-cylinder position="0 1.75 -3" rotation="0 -170 0" radius="0.1" height="0.5" material="src: imagenes/torso.jpg"></a-cylinder>
    <!-- Brazos -->
    <a-cylinder position="-0.2 1.82 -3" rotation="0 0 130" radius="0.04" height="0.5" color="#FFDAB9"></a-cylinder>
    <a-cylinder position="0.2 1.82 -3" rotation="0 0 -130" radius="0.04" height="0.5" color="#FFDAB9"></a-cylinder>
    <!-- Piernas -->
    <a-cylinder position="-0.14 1.3 -3" rotation="0 0 160" radius="0.05" height="0.5" color="#6E7B8B"></a-cylinder>
    <a-cylinder position="0.14 1.3 -3" rotation="0 0 -160" radius="0.05" height="0.5" color="#6E7B8B"></a-cylinder>
    <a-sphere color="black" radius="0.09" position="-0.19 1.1 -2.98"></a-sphere>
    <a-sphere color="black" radius="0.09" position="0.19 1.1 -2.98"></a-sphere>
    </a-entity>
   
    <!-- Micrófono y tripoide-->
    <a-entity id="microphone" position="0 1 -2.7">
    <!-- Trípode -->
    <a-cylinder color="#CD7F32" height="1" radius="0.03"  position="0 0.5 0"></a-cylinder>
    <a-cylinder color="#CD7F32" height="0.1" radius="0.05" position="0 1 0"></a-cylinder>        
    <!-- Micrófono -->
    <a-cylinder color="#C0C0C0" height="0.2" radius="0.02" position="0 1.08 0" rotation="110 0 10"></a-cylinder>  
    <a-sphere color="black" radius="0.04" position="0 1.12 -0.10"></a-sphere>
    </a-entity>
            
    <script>
    AFRAME.registerComponent('move', {
    schema: {
      speed: { type: 'number', default: 0.001 }
    },
    init: function () {
      this.direction = 1; // Comienza moviéndose hacia la derecha
      this.maxPositionX = 1; // Límite derecho
      this.minPositionX = -1; // Límite izquierdo
    },
    tick: function (time, timeDelta) {
    const el = this.el;
    const position = el.getAttribute('position');  
    // Calcular nueva posición
    let newPositionX = position.x + this.direction * this.data.speed * timeDelta;
    // Verificar si la nueva posición está dentro de los límites
    if (newPositionX > this.maxPositionX) {
        newPositionX = this.maxPositionX;
        this.direction = -1; // Cambiar dirección hacia la izquierda
      } else if (newPositionX < this.minPositionX) {
        newPositionX = this.minPositionX;
        this.direction = 1; // Cambiar dirección hacia la derecha
      }
    // Actualizar posición
    el.setAttribute('position', { x: newPositionX, y: position.y, z: position.z });
    }
    });
    
    document.querySelector('#dukimovil').setAttribute('move', {speed: 0.0005});
    document.querySelector('#microphone').setAttribute('move', {speed: 0.0005});
    </script>
<!--------- DUKI LOVERS---------->
<a-entity id="contenedor" position="0 -1.1 8">
    <!-- Utilizar un bucle para generar el conjunto -->
    <script>
    // Número de filas y columnas
    var filas = 8;
    var columnas = 8;      
    // Espaciado entre las entidades
   var espaciado = 1.5;       
    // Definir la entidad original
    var personaOriginal = document.createElement('a-entity');
    personaOriginal.innerHTML = `
    <!-- Cabeza -->
    <a-sphere radius="0.15" position="0 2.1 -3" rotation="0 75 0" material="src: imagenes/cara2.jpg" shadow="cast: true"></a-sphere>
    <!-- Cuerpo -->
    <a-cylinder position="0 1.75 -3" rotation="0 -20 0" radius="0.1" height="0.5" material="src: imagenes/torsofan.jpg"></a-cylinder>
    <!-- Brazos -->
    <a-cylinder position="-0.2 1.82 -3" rotation="0 0 130" radius="0.04" height="0.5" color="#FFDAB9"></a-cylinder>
    <a-cylinder position="0.2 1.82 -3" rotation="0 0 -130" radius="0.04" height="0.5" color="#FFDAB9"></a-cylinder>
    <!-- Piernas -->
    <a-cylinder position="-0.14 1.3 -3" rotation="0 0 160" radius="0.05" height="0.5" color="#A52A2A"></a-cylinder>
    <a-cylinder position="0.14 1.3 -3" rotation="0 0 -160" radius="0.05" height="0.5" color="#A52A2A"></a-cylinder>
    <a-sphere color="black" radius="0.09" position="-0.24 1.1 -3.01"></a-sphere>
    <a-sphere color="black" radius="0.09" position="0.23 1.1 -3.01"></a-sphere>
    `;
          
    // Bucle para crear el conjunto
    for (var i = 0; i < filas; i++) {
    for (var j = 0; j < columnas; j++) {
    // Clonar la entidad original y ajustar su posición
    var persona = personaOriginal.cloneNode(true);
    var posicionX = (i * espaciado - (filas / 2 * espaciado));
    var posicionZ = (j * espaciado - (columnas / 2 * espaciado));
    persona.setAttribute('position', posicionX + ' 0 ' + posicionZ);
    // Agregar animación de salto
    persona.setAttribute('animation', {
    property: 'position',
    to: posicionX + ' 0.5 ' + posicionZ, // Saltar hacia arriba sin moverse hacia el centro
    loop: true,
    dir: 'alternate',
    easing: 'easeInOutQuad',
    dur: 1000,
    startEvents: 'jump'
    });
    // Eliminar el componente 'look-controls' para evitar el movimiento del mouse
    persona.removeAttribute('look-controls');
    document.getElementById('contenedor').appendChild(persona);      
    // Iniciar la animación de salto con un pequeño retraso aleatorio
    setTimeout(function(entity) {
    entity.emit('jump');
    }, Math.random() * 2000, persona);
    }
    }
    </script>
    </a-entity>
  
      <!----------------------CAMARAS Y DRONES ------------------>

   
    <!-- Cámara principal -->
    <a-entity id="mainCamera" camera="active: true" wasd-controls look-controls position="0 2 0" ></a-entity>
  <!-- Contenedor para el dron -->
  <a-entity id="dronContainer" position="0 5 4" rotation="-20 0 0">
    <!-- DRON CON CAMARA -->
    <a-entity id="dron">
        <a-box width="1" height="1" depth="0.5" position="0 5.5 4" material="color: black" shadow="cast: true"></a-box>
        <a-box width="2.5" height="0.5" depth="0.1" position="0 5.5 4" material="color: black" shadow="cast: true"></a-box>

        <!-- Añade la nueva cámara -->
        <a-entity id="cameraDrone" camera="active: false" look-controls></a-entity>
    </a-entity>
</a-entity>


    <!------------ Cámaras fijas ----------->
    <a-entity id="contedorfijaA" position="0 1 0" rotation="0 0 0">
      <a-entity id="fija1">
        <a-box width="0.5" height="0.2" depth="0.2" position="4.5 0.5 -4.8" rotation="0 30 0"material="color: black" shadow="cast: true"></a-box>
      <!-- Trípode -->
      <a-cylinder color="#CD7F32" height="0.5" radius="0.03"  position="4.5 0.25 -4.8"></a-cylinder>
      <a-cylinder color="#CCCCCC" height="0.1" radius="0.05" position="4.3 0.5 -4.7" rotation="80 0 60"></a-cylinder>  
        <!-- Añade la nueva cámara -->
      <a-entity id="camerafijaA" camera="active: false" position="4.3 0.5 -4.7"   rotation="0 130 0"></a-entity>
      </a-entity>
      </a-entity>
      


<script>
 // Obtener referencia a la cámara principal, la del dron y la cámara fija
 var mainCamera = document.getElementById('mainCamera');
  var cameraDrone = document.getElementById('cameraDrone');
  var cameraFija = document.getElementById('camerafijaA');
  var dronContainer = document.getElementById('dronContainer');

  // Función para cambiar a la cámara del dron
  function activateDroneCamera() {
      mainCamera.setAttribute('camera', 'active', false);
      cameraDrone.setAttribute('camera', 'active', true);
      cameraFija.setAttribute('camera', 'active', false); // Desactivar cámara fija
  }

  // Función para cambiar a la cámara principal
  function activateMainCamera() {
      mainCamera.setAttribute('camera', 'active', true);
      cameraDrone.setAttribute('camera', 'active', false);
      cameraFija.setAttribute('camera', 'active', false); // Desactivar cámara fija
  }

  // Función para cambiar a la cámara fija
  function activateFixedCamera() {
      mainCamera.setAttribute('camera', 'active', false);
      cameraDrone.setAttribute('camera', 'active', false);
      cameraFija.setAttribute('camera', 'active', true);
  }

  // Agregar un listener de evento para detectar cuando se presiona la tecla correspondiente a cada cámara
  document.addEventListener('keydown', function(event) {
      if (event.key === 'c') {
          activateDroneCamera();
      } else if (event.key === 'p') {
          activateMainCamera();
      } else if (event.key === 'x') {
          activateFixedCamera();
      }
  });

  AFRAME.registerComponent('move-drone', {
    schema: {
        speed: { type: 'number', default: 0.001 },
        maxPositionX: { type: 'number', default: 5 },
        minPositionX: { type: 'number', default: -5 },
        maxPositionZ: { type: 'number', default: 9 },
        minPositionZ: { type: 'number', default: 4 },
        rotationStart: { type: 'number', default: -20 },
        rotationEnd: { type: 'number', default: -60 }
    },

    init: function () {
        this.direction = 1;
        this.rotationDirection = 1;
    },

    tick: function (time, timeDelta) {
        const el = this.el;
        const position = el.getAttribute('position');
        const rotation = el.getAttribute('rotation');
        const data = this.data;

        // Calcular nueva posición
        let newPositionX = position.x + this.direction * data.speed * timeDelta;
        let newPositionZ = position.z;

        // Verificar si la nueva posición está dentro de los límites
        if (newPositionX > data.maxPositionX) {
            newPositionX = data.maxPositionX;
            this.direction = -1;
            newPositionZ = data.minPositionZ;
        } else if (newPositionX < data.minPositionX) {
            newPositionX = data.minPositionX;
            this.direction = 1;
            newPositionZ = data.maxPositionZ;
        }

        // Calcular nueva rotación
        let newRotationX = rotation.x;
        if (newPositionZ === data.maxPositionZ) {
            newRotationX = data.rotationEnd;
            this.rotationDirection = -1;
        } else if (newPositionZ === data.minPositionZ) {
            newRotationX = data.rotationStart;
            this.rotationDirection = 1;
        } else {
            newRotationX += this.rotationDirection * 0.01;
        }

        // Actualizar posición y rotación
        el.setAttribute('position', { x: newPositionX, y: position.y, z: newPositionZ });
        el.setAttribute('rotation', { x: newRotationX, y: rotation.y, z: rotation.z });
    }
});

// Aplicar el componente personalizado al contenedor del dron
dronContainer.setAttribute('move-drone', {
    speed: 0.0025,
    maxPositionX: 5,
    minPositionX: -5,
    maxPositionZ: 9,
    minPositionZ: 4,
    rotationStart: -20,
    rotationEnd: -60
});
</script>

<script>
  AFRAME.registerComponent('rotate-container', {
    init: function () {
      this.rotateForward();
    },
    rotateForward: function () {
      const el = this.el;
      const initialRotation = el.getAttribute('rotation');
      const finalRotation = { x: 0, y: 85, z: 0 };
      el.setAttribute('animation', {
        property: 'rotation',
        dur: 6000, // Duración de la animación en milisegundos
        easing: 'linear', // Tipo de interpolación
        from: `${initialRotation.x} ${initialRotation.y} ${initialRotation.z}`,
        to: `${finalRotation.x} ${finalRotation.y} ${finalRotation.z}`
      });
      el.addEventListener('animationcomplete', () => {
        this.rotateBackward();
      });
    },
    rotateBackward: function () {
      const el = this.el;
      const initialRotation = { x: 0, y: 85, z: 0 };
      const finalRotation = { x: 0, y: 0, z: 0 };
      el.setAttribute('animation', {
        property: 'rotation',
        dur: 6000, // Duración de la animación en milisegundos
        easing: 'linear', // Tipo de interpolación
        from: `${initialRotation.x} ${initialRotation.y} ${initialRotation.z}`,
        to: `${finalRotation.x} ${finalRotation.y} ${finalRotation.z}`
      });
      el.addEventListener('animationcomplete', () => {
        this.rotateForward();
      });
    }
  });

  // Aplicar el componente personalizado al contenedor fijo A
  const contenedorFijoA = document.getElementById('contedorfijaA');
  contenedorFijoA.setAttribute('rotate-container', {});
</script>


  
      </a-scene>
  </body>
  </html>
  